<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="materialize/css/materialize.min.css" media="screen,projection">
    <link rel="stylesheet" href="css/style.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
 
      <!-- 用户列表 START -->
    <div class="row">
        <div class="row">
            <h5>当前用户：</h5>
        </div>
        <ul class="collection" id="user-ul">
        </ul>
    </div>
        <!-- 用户列表 END -->

    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="materialize/js/materialize.min.js"></script>
    <script src="js/socket.io.js"></script>

    <script>
        var userUl = document.getElementById("user-ul");


        var socket = io({
          'timeout':5000,
          'connect timeout':5000
        });

        if(socket !== undefined ){
          console.log('connected to socket....'); 
        }

        socket.on("updateUser",function(connectedUser){
            console.log(connectedUser);
            userUl.innerHTML = "";
            connectedUser.forEach(function(item){
                var userli = document.createElement('li');
                userli.setAttribute('class','collection-item');
                userli.textContent=item;
                userUl.appendChild(userli);
            })
        })
        
    </script>
</body>
</html>